# MFM713
Pseudo-code:
Given T>0, Payoff V, volatility $\sigma$, drifty $\mu(t,x)=\alpha_t+\beta_tx$, notional N, s
For n = 1,2,...,N:
	$X^{(n)}_T<-N(\mu_T,\int^T_0\sigma^2_t dt)$
	$S^{(n)}_T <- sexp(X^{(n)}_T)$ 
	$V_T^{(n)}<-V(S^{(n)}_T)$ 
Return $\frac{1}{N}\sum^N_{\lambda=1}V_T^{(n)}$ 

Assume $X_t=x_0+\int^t_0M(S,X_S)dS+\int^t_0\sigma(S,X_S)dW_S$ 
Taylor Approximation of $M$: fix $S$, and: $$
\begin{aligned}M(S,x)&\approx a +bx+cx^2+\cdots\\
&=f^{(0)}(S,0)+f^{(1)}(S,0)x+\frac{f^{(2)}(S,0)}{2!}x^2+\cdots\\
\end{aligned}$$
## How do you simulate $X_T$:
## Explicit Euler-Scheme:
Say the initial stock price is given by $X_0$. Fix an $M\in\mathbb{N}_+$ where $M$ is the time steps from $t_0$ to $T$ the maturity. The pseudo-code is given below:
$\delta=\frac{T}{M}$ , the time increments in each step.
For $m=1,2,\cdots,M$:
	if m = 0:
		Y <- $X_0$
	else:
		Z <- N(0,1)
		$\tilde Y^M_m <- \tilde Y^M + \mu(m\delta,Y^M)delta +\sigma(m\delta,Y^M)Z$
return Y
If you are pricing the European or American Option, by the Law of Large Numbers, it will converge to the expected value of these options ($\mathbb{E}[Y^M]\rightarrow\mathbb{E}X_T$). But this is not the case for the Asian Option as it is pass-dependent. 

Thus, the whole process is given by:$$Y_t^M:=\sum^{M-1}_0I_{\frac{mT}{M},\frac{(m+1)T}{M}}(t)\tilde{Y}^M_m$$
For drift $\mu$ that does not grow fast, $$lim_{M\rightarrow\infty}\mathbb{E}\left[sup|Y^M_t-X_t\right]=0$$

## Implicit Euler Scheme
$$Y^{(n)}_{m+1}=Y^{(n)}_m+\mu(m\Delta,Y^{(n)}_{m+1})\Delta+\sigma(m\Delta,Y^{(n)}_m)Z^n_m$$
Cons: for each $n, m$ need to do root searching (which is slow)
Pros: there is no drift constraint, (i.e. always good to use)

